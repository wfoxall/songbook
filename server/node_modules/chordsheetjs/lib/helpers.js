"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.renderChord = renderChord;

var _chord = _interopRequireDefault(require("./chord"));

var _utilities = require("./utilities");

var _key = _interopRequireDefault(require("./key"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function transposeDistance(lineKey, songKey) {
  if (/^\d+$/.test(lineKey)) {
    return parseInt(lineKey, 10);
  }

  return _key["default"].distance(songKey, lineKey);
}
/* eslint import/prefer-default-export: 0 */


function renderChord(chord, lineKey, songKey) {
  if ((0, _utilities.presence)(chord) && (0, _utilities.presence)(lineKey) && (0, _utilities.presence)(songKey)) {
    return _chord["default"].parse(chord).transpose(transposeDistance(lineKey, songKey)).useModifier(lineKey.modifier).toString();
  }

  return chord;
}